/*
 * Rtos.h
 *
 *  Created on: Nov 1, 2023
 *      Author: diego
 */

#ifndef RTOS_H_
#define RTOS_H_

/**********************************************************************************************************
***********************************************************************************************************
*
* INCLUSIÓN DE LIBRERÍAS
*
* **********************************************************************************************************
* * **********************************************************************************************************/
#include "types.h"
#include "Queue.h"


/* ***********************************************************************************************************
 * ***********************************************************************************************************
 *
 * DEFINICIÓN DE CONSTANTES DEL MÓDULO
 *
 * ***********************************************************************************************************
 * ***********************************************************************************************************/
#define RTOS_SYSTEM_PRIORITIES      16
#define RTOS_MAX_TASK_PRIORITY      RTOS_SYSTEM_PRIORITIES -1
#define RTOS_MIN_STACK_SIZE  		128
#define RTOS_IDLE_TASK_ID 			0xFFFF
#define RTOS_IDLE_TASK_NAME			"IDLE_TASK"

/* ***********************************************************************************************************
 * ***********************************************************************************************************
 *
 * DEFINICIÓN DE ERRORES DEL MÓDULO
 *
 * ***********************************************************************************************************
 * ***********************************************************************************************************/


/* ***********************************************************************************************************
 * ***********************************************************************************************************
 *
 * DEFINICIÓN DE TIPOS DE DATO DEL MÓDULO
 *
 * ***********************************************************************************************************
 * ***********************************************************************************************************/

typedef void (*TaskCallback)(void);

typedef enum TaskStatus
{
	TASK_BLOCKED = 0,
	TASK_READY,
	TASK_RUNNING
}T_TaskStatus, *T_TaskStatus_Ptr;

typedef struct
{
	const char * TaskName;
	 UInt16 TaskId;
	 T_TaskStatus TaskStatus;
	 UInt8 TaskStackOverflow;
	 UInt8 TaskPriority;
	 UInt32 *TaskStack;
	 UInt32 TaskStackSize;
	 UInt32 TaskActualSP;
	 TaskCallback TaskFunction;
	 T_QueueElement QueueElement;
	 unsigned long long TaskSleepTime;
}T_TaskTCB, *T_TaskTCB_Ptr;

/************************************************************************************************************
* ***********************************************************************************************************
*
* DEFINICIÓN DE FUNCIONES DEL MODULO
*
*************************************************************************************************************
************************************************************************************************************/
/**********************************************************************************************************
***********************************************************************************************************
*
* DEFINICIÓN DE CONSTANTES INTERNAS DEL MÓDULO
*
* **********************************************************************************************************
* * **********************************************************************************************************/

/**********************************************************************************************************
***********************************************************************************************************
*
* DEFINICIÓN DE TIPOS DE DATOS INTERNOS DEL MÓDULO
*
* **********************************************************************************************************
* * **********************************************************************************************************/

/**********************************************************************************************************
***********************************************************************************************************
*
* DEFINICIÓN DE FUNCIONES INTERNAS DEL MÓDULO
*
* **********************************************************************************************************
* * **********************************************************************************************************/

/**********************************************************************************************************
***********************************************************************************************************
*
* DEFINICIÓN DE VARIABLES GLOBALES INTERNAS DEL MÓDULO
*
* **********************************************************************************************************
* * **********************************************************************************************************/


/**********************************************************************************************************
***********************************************************************************************************
*
* IMPLEMENTACIÓN DE FUNCIONES EXTERNAS DEL MÓDULO
*
* **********************************************************************************************************
* * **********************************************************************************************************/


#endif /* RTOS_H_ */
